(function(){function sendMessageToNative(message){window.webkit.messageHandlers.nimbusMraidMessageHandler.postMessage(message)}if(!window.nimbusMraid){class EventManager{constructor(name){this.name=name;this.callbacks=[]}broadcast(args){this.callbacks.map(x=>x).forEach(element=>{element.apply(null,args)})}}const eventListeners={};window.mraid=Object.assign({},{sendEvent:function(event,args){if(eventListeners[event]){eventListeners[event].broadcast(args)}},addEventListener:function(event,callback){if(event&&callback){if(!eventListeners[event]){eventListeners[event]=new EventManager(event)}eventListeners[event].callbacks.push(callback);sendMessageToNative(event)}},removeEventListener:function(event,callback){if(event&&eventListeners[event]){if(callback){const index=eventListeners[event].callbacks.indexOf(callback);if(index>-1){eventListeners[event].callbacks.splice(index,1)}}else{eventListeners[event].callbacks=[]}}},getVersion:function(){return"3.0"},supports:function(feature){return feature==="inlineVideo"},state:"loading",getState:function(){return this.state},defaultPosition:undefined,getDefaultPosition:function(){return this.defaultPosition},currentPosition:undefined,getCurrentPosition:function(){return this.currentPosition},maxSize:undefined,getMaxSize:function(){return this.maxSize},screenSize:undefined,getScreenSize:function(){return this.screenSize},viewable:false,isViewable:function(){return this.viewable},placementType:undefined,getPlacementType:function(){return this.placementType},open:function(url){const urlMessage="clickthrough".concat("-",url);sendMessageToNative(urlMessage)},close:function(){sendMessageToNative("close")},useCustomClose:function(){},unload:function(){sendMessageToNative("unload")},expand:function(_url){sendMessageToNative("expand")},expandProperties:undefined,getExpandProperties:function(){return this.expandProperties},setExpandProperties:function(properties){if(!properties){sendMessageToNative("setExpandProperties-undefined");return}const expandMessage=`setExpandProperties-${properties.width}&${properties.height}-${properties.isModal}`;sendMessageToNative(expandMessage)},resize:function(){sendMessageToNative("resize")},resizeProperties:undefined,getResizeProperties:function(){return this.resizeProperties},setResizeProperties:function(properties){if(!properties){sendMessageToNative("setResizeProperties-undefined");return}const resizeMessage=`setResizeProperties-${properties.width}&${properties.height}-${properties.offsetX}-${properties.offsetY}-${properties.allowOffscreen}`;sendMessageToNative(resizeMessage)},currentAppOrientation:undefined,getCurrentAppOrientation:function(){return this.currentAppOrientation},orientationProperties:undefined,getOrientationProperties:function(){return this.orientationProperties},setOrientationProperties:function(properties){this.orientationProperties=properties},playVideo:function(uri){const urlMessage="playVideo".concat("-",uri);sendMessageToNative(urlMessage)},location:undefined,getLocation:function(){return this.location},storePicture:function(_url){},createCalendarEvent:function(_parameters){}});window.nimbusMraid=true;sendMessageToNative("onLoad")}})();
